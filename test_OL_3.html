<!doctype html>
<html>
<head>
	<link rel="stylesheet" href="css/OpenLayers_jrm_1.css" type="text/css">
	
	<link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css" type="text/css">	
	<script src="https://openlayers.org/en/v4.6.5/build/ol.js" type="text/javascript"></script>
</head>

<body>
		<h1>Gallup, NM Utility network, with instances of work</h1>

<h2>What this map is supposed to show is the Gallup utility pipe network with valves, hydtrants, sewer manholes and daily work locations.  Unfortunately, I can't get any layer but the basemap to load. Crapsticks. </h2>


	<div id="map" class="map"><!-- This is where the map will be displayed --></div>
	


	<!-- nonfunctioning attempt to add layers from geoserver -->
	<script type="text/javascript">
	
	var projection = ol.proj.get('EPSG:2259')

	var pipe = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/jmarkham/wms?',
			params: {
				LAYERS: 'PIPE',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
		
	var daily_work = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:DAILY_WORK',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})	
	var valves = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:W_VALVE',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
	
	var hydrant = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:F_HYDRANT',
				FORMAT: 'image/jpg',
				TRANSPARENT: true
				},
			})
		})
		
	var manhole = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:S_MH',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
	
	var Map1 = new ol.Map({
		loadTilesWhileInteracting: true,
		target: 'map',
		layers: [manhole, hydrant, pipe, daily_work, valves],
		view: new ol.View({
			center: ol.proj.fromLonLat([-108.7426, 35.5281]), 
			zoom: 13,
			projection:'EPSG:2259',
			})
		})
		

		

		})
	</script>	
	

<script type="text/javascript" src="js/OpenLayers_jrm_1.js"></script>  



	</script>



</body>
</html>