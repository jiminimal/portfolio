<!doctype html>
<html>
<head>
	<link rel="stylesheet" href="css/gatesville_map3.css" type="text/css">
	
	<link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css" type="text/css">	
	<script src="https://openlayers.org/en/v4.6.5/build/ol.js" type="text/javascript"></script>
</head>

<body>
	<h1>Gallup, NM Utility Network</h1>

	
	
	<h4>MAP LEGEND <br>
 Water Mains:  Bright Green Lines<br>
 Manholes:  Dark Green Dots<br>
Valves:  Red Squares<br>
 Fire Hydrants:  Red Icons<br>
 Daily Work Orders:  Gold "+" Symbols<br>
	</h4>
			
			
	<h1>Assets Floating in Space without a basemap</h1>

	<div id="FinalMap" class="map"><!-- This is where the map will be displayed --></div>
	
	<h1>Gallup Utility NetworkL Including: Water Mains, Fire Hydrants, Valves, Sewer Manholes and Work Orders covering a 10 year period.  </h1>
	
	<div id="FinalMap2" class="map"><!-- This is where the map will be displayed --></div>
		
	<h2>Water Mains are green Lines, Work Orders are yellow "+" signs; Valves are red squares, and hydrants are red icons	</h2>
		
<!-- BIG UPS TO W DIBIALTY - I COULDN'T GET ANYTHING TO DISPLAY UNTIL I TOOK HIS CODE APART BIT BY BIT -->

	<!--<script type="text/javascript" src="js/OpenLayer1.2.js"></script>-->
	<script type="text/javascript">
	
		var projection = ol.proj.get('EPSG:2259')
	
	var MeterBuff = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:PIPE',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
		
	var KiloBuff = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:DAILY_WORK',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})	
	var Well_Loc = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:W_VALVE',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
	
	var five = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:S_MH',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
		
	var three = new ol.layer.Tile({
		source: new ol.source.TileWMS({
		url: 'http://internetmapping.net:8080/geoserver/wms?',
			params: {
				LAYERS: 'jmarkham:F_HYDRANT',
				FORMAT: 'image/png',
				TRANSPARENT: true
				},
			})
		})
	
var basemap = new ol.layer.Tile({
		source: new ol.source.BingMaps({
            key: 'AvQMHiA0BdJSNj-jb9KaDVSowjMXWpiiKqE3OirpcY9yUZqbErHn1b9Zc6wzIjPs',
			})
		})

	var Map1 = new ol.Map({
		target: 'FinalMap',
		layers: [basemap, three, MeterBuff, KiloBuff, Well_Loc],
		view: new ol.View({
			center: ol.proj.fromLonLat([-108.7426, 35.5281]), 
			zoom: 13,
			projection: projection,
			})
		});	//-108.7426, 35.5281
		
	//var Map2 = new ol.Map({
	//	target: 'FinalMap2',
	//	layers: [five, MeterBuff, KiloBuff, Well_Loc],
	//	view: new ol.View({
	//		center: ol.proj.fromLonLat([-108.7426, 35.5281]), 
	//		zoom: 11,
	//		projection: projection,
	//		})
	//	})

</script>

 <script>
      var map = new ol.Map({
          target: 'FinalMap2',
          layers: [
            new ol.layer.Tile({
              source: new ol.source.OSM()
            })
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([-108.7426, 35.5281] ),
            zoom: 15
          })
        });

      map.addLayer (new ol.layer.Tile ({
        source: new ol.source.TileWMS ({
          url: 'http://internetmapping.net:8080/geoserver/wms',
          params: {Layers: 'jmarkham:PIPE'}
        })
      }),
      );

      map.addLayer (new ol.layer.Tile ({
        source: new ol.source.TileWMS ({
          url: 'http://internetmapping.net:8080/geoserver/wms',
          params: {Layers: 'jmarkham:W_VALVE'}
        })
      }),
      );

      map.addLayer (new ol.layer.Tile ({
        source: new ol.source.TileWMS ({
          url: 'http://internetmapping.net:8080/geoserver/wms',
          params: {Layers: 'jmarkham:S_MH'}
        })
      }),
      );    

map.addLayer (new ol.layer.Tile ({
        source: new ol.source.TileWMS ({
          url: 'http://internetmapping.net:8080/geoserver/wms',
          params: {Layers: 'jmarkham:DAILY_WORK'}
        })
      }),
      );  

map.addLayer (new ol.layer.Tile ({
        source: new ol.source.TileWMS ({
          url: 'http://internetmapping.net:8080/geoserver/wms',
          params: {Layers: 'jmarkham:F_HYDRANT'}
        })
      }),
      );  
	</script>	
	
</body>
</html>
